---
import { siteConfig } from "@/config/site";
import Button from "./Button.astro";
import ThemeToggle from "./ThemeToggle.astro";

const navLinks = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/blog", label: "Blog" },
  { href: "/contact", label: "Contact" },
];
---

<header class="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="container-custom flex h-16 items-center justify-between">
    <div class="flex items-center gap-8">
      <a href="/" class="flex items-center space-x-2">
        <span class="inline-block font-bold text-xl tracking-tight text-primary">
          {siteConfig.name}
        </span>
      </a>


      <nav class="hidden md:flex gap-6">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class="text-sm font-medium text-muted-foreground transition-colors hover:text-primary"
          >
            {link.label}
          </a>
        ))}
      </nav>
    </div>
    <div class="flex items-center gap-4">
      <div class="hidden md:flex items-center gap-4">
        <ThemeToggle />
        <Button size="sm">Get Started</Button>
      </div>
      
      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-toggle"
        class="md:hidden flex items-center justify-center p-2 rounded-md hover:bg-accent"
        aria-label="Toggle menu"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-border bg-background p-4 animate-in slide-in-from-top duration-300">
    <nav class="flex flex-col gap-4">
      {navLinks.map((link) => (
        <a
          href={link.href}
          class="text-sm font-medium text-muted-foreground hover:text-primary py-2"
        >
          {link.label}
        </a>
      ))}
      <div class="flex items-center justify-between pt-4 border-t border-border">
        <ThemeToggle />
        <Button size="sm" class="w-full ml-4">Get Started</Button>
      </div>
    </nav>
  </div>
</header>

<script>
  const toggle = document.getElementById('mobile-menu-toggle');
  const menu = document.getElementById('mobile-menu');
  
  if (toggle && menu) {
    toggle.addEventListener('click', () => {
      menu.classList.toggle('hidden');
    });
  }
</script>
